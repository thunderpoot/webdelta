window.webDeltaConfig={tooltipBorderRadius:"0",tooltipFont:"Menlo, monospaced",tooltipXOffset:15,tooltipYOffset:15,timeZone:"UTC",tooltipBackgroundColor:"black",tooltipForegroundColor:"white"},document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("span.webDelta").forEach(t=>{const L=parseInt(t.textContent.trim());if(isNaN(L)){console.error(`Invalid timestamp: ${t.textContent.trim()}`),t.textContent="Invalid timestamp";return}const a=new Date(L*1e3),m=t.classList.contains("utc")?"UTC":window.webDeltaConfig.timeZone||Intl.DateTimeFormat().resolvedOptions().timeZone;let s={timeZone:m},i="";if(t.classList.contains("timeOnly"))if(s={hour:"numeric",minute:"numeric",second:"numeric",...s},t.classList.contains("weekday")){const y={weekday:"long",timeZone:m},d=a.toLocaleDateString(void 0,y),w=a.toLocaleTimeString(void 0,s);i=`${d}, ${w}`}else i=a.toLocaleTimeString(void 0,s);else t.classList.contains("dateOnly")?(s={year:"numeric",month:"long",day:"numeric",...s},t.classList.contains("weekday")&&(s.weekday="long"),i=a.toLocaleDateString(void 0,s)):t.classList.contains("iso8601")?i=a.toISOString():(t.classList.contains("short")?s={...s,dateStyle:"short",timeStyle:"short"}:t.classList.contains("medium")?s={...s,dateStyle:"medium",timeStyle:"medium"}:t.classList.contains("long")?s={...s,dateStyle:"long",timeStyle:"long"}:t.classList.contains("full")?s={...s,dateStyle:"full",timeStyle:"long"}:s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",...s},t.classList.contains("weekday")&&!t.classList.contains("short")&&(s.weekday="long"),i=a.toLocaleString(void 0,s));if(!t.classList.contains("noTZ")&&!t.classList.contains("iso8601")&&!i.includes(m)&&(i+=` ${m}`),t.textContent=i,t.classList.contains("noTooltip"))return;t.nextElementSibling&&t.nextElementSibling.classList.contains("webDelta-tooltip")&&t.nextElementSibling.remove();const o=document.createElement("span");o.className="webDelta-tooltip",o.style.position="absolute",o.style.padding="8px",o.style.backgroundColor=window.webDeltaConfig.tooltipBackgroundColor||"black",o.style.color=window.webDeltaConfig.tooltipForegroundColor||"white",o.style.borderRadius=window.webDeltaConfig.tooltipBorderRadius||"5px",o.style.fontFamily=window.webDeltaConfig.tooltipFont||"Arial, sans-serif",o.style.whiteSpace="nowrap",o.style.visibility="hidden",o.style.opacity="0",o.style.transition="opacity 0.3s ease, transform 0.3s ease",o.style.pointerEvents="none",o.style.transform="scale(0.8)",o.style.zIndex="1000",document.body.appendChild(o);const b=()=>{const d=a-new Date,w=Math.abs(d),f=Math.floor(w/1e3),l=Math.floor(f/60),c=Math.floor(l/60),r=Math.floor(c/24),n=Math.floor(r/365.25),p=r%365.25,g=c%24,h=l%60,$=f%60;let e="";if(t.classList.contains("deltaLonger")){const u=[];n>0&&u.push(`${n} year${n>1?"s":""}`),Math.floor(p)>0&&u.push(`${Math.floor(p)} day${Math.floor(p)>1?"s":""}`),g>0&&u.push(`${g} hour${g>1?"s":""}`),h>0&&u.push(`${h} minute${h>1?"s":""}`),$>0&&u.push(`${$} second${$>1?"s":""}`),e=u.join(", ")}else t.classList.contains("deltaLong")?n>0?e=`${n} year${n>1?"s":""}`:r>0?e=`${r} day${r>1?"s":""}`:c>0?e=`${c} hour${c>1?"s":""}`:l>0?e=`${l} minute${l>1?"s":""}`:f>0&&(e=`${f} second${f>1?"s":""}`):n>0?e=`${n}y`:r>0?e=`${r}d`:c>0?e=`${c}h`:l>0?e=`${l}m`:e=`${f}s`;e=d>=0?`in ${e}`:`${e} ago`,o.textContent=e},C=()=>{b(),setInterval(b,1e3)},S=1e3-new Date().getMilliseconds();setTimeout(C,S),t.addEventListener("mouseover",()=>{o.style.visibility="visible",o.style.opacity="1",o.style.transform="scale(1)"}),t.addEventListener("mousemove",y=>{const d=window.scrollY||window.pageYOffset,w=window.scrollX||window.pageXOffset;o.style.top=`${y.clientY+d+(window.webDeltaConfig.tooltipYOffset||15)}px`,o.style.left=`${y.clientX+w+(window.webDeltaConfig.tooltipXOffset||15)}px`}),t.addEventListener("mouseout",()=>{o.style.opacity="0",o.style.visibility="hidden",o.style.transform="scale(0.8)"})})});
